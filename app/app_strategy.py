import streamlit as st

def run_strategy():
    st.title("💡 전사적 비즈니스 운영 전략")
    st.markdown("---")

    # 1. 전체 현황 요약 (전사 KPI)
    st.subheader("1. 2026년 상반기 이탈 방어 KPI")
    c1, c2, c3 = st.columns(3)
    c1.metric("목표 이탈률 감소", "▼ 5.0%", "-1.2%p")
    c2.metric("예상 방어 매출", "약 4.2억 원", "+15%")
    c3.metric("마케팅 ROI", "320%", "+20%p")

    st.markdown("---")

    # 2. 세그먼트별 리소스 배분 전략 (데이터 기반 정책)
    st.subheader("2. 유저 그룹별 마케팅 리소스 배분 가이드라인")
    
    st.write("모델의 예측 확률에 따라 전체 마케팅 예산을 차등 배분하여 효율을 극대화합니다.")
    
    # 가상의 전체 데이터 분포를 보여주는 차트 느낌의 시각화
    st.code("""
[고위험군: 15%] ■■■□□□□□□□ (예산 60% 집중 - 공격적 방어)
[주 의 군: 35%] ■■■■■■■□□□ (예산 30% 배분 - 관계 유지)
[안 정 군: 50%] ■■■■■■■■■■ (예산 10% 유지 - 로열티 강화)
    """)

    # 3. 마케팅 캠페인 로드맵 (실행 스케줄)
    st.subheader("3. 실행 로드맵 (Retention Roadmap)")
    
    with st.expander("📅 1단계: 즉각적 이탈 차단 (Short-term)", expanded=True):
        st.write("**주요 타겟**: 자동결제 미설정 유저 중 활동성 급감 고객")
        st.write("**핵심 액션**: 'Win-back' 프로모션 및 결제 수단 갱신 캠페인")
        
    with st.expander("📅 2단계: 서비스 고착화 유도 (Mid-term)"):
        st.write("**주요 타겟**: 주의군 내 선호 장르 뚜렷한 유저")
        st.write("**핵심 액션**: 개인화 큐레이션 강화 및 커뮤니티 기능 활성화")
        
    with st.expander("📅 3단계: 장기 구독 생태계 구축 (Long-term)"):
        st.write("**주요 타겟**: 안정군 및 VIP 유저")
        st.write("**핵심 액션**: 연간 멤버십 전환 유도 및 패밀리 결합 할인 도입")

    st.markdown("---")
    st.info("💡 **전략적 제언**: 분석 결과 '결제 편의성'이 이탈 방어의 핵심 동력으로 확인됨에 따라, 간편결제 시스템 고도화에 IT 인프라 투자를 우선 순위로 둘 것을 제안함.")